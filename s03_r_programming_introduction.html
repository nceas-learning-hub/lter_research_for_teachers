<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Working in R &amp; RStudio – Authentic Research Experience for Teachers @ LTERs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./logo_lh_hex.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-afc70d9f4d9a0b8269c75012d74673db.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-81ce3bd3914969a945471190cd270d92.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-afc70d9f4d9a0b8269c75012d74673db.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #44444444;
      }
</style>


<link rel="stylesheet" href="site_libs/quarto-contrib/quarto-project/nceas-learning-hub/theme/banner/banner.css">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Authentic Research Experience for Teachers @ LTERs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-instructors" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Instructors</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-instructors">    
        <li>
    <a class="dropdown-item" href="https://www.oharascience.com/">
 <span class="dropdown-text">Casey O’Hara</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/nceas-learning-hub/lter_research_for_teachers"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Working in R &amp; RStudio</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">Working in R &amp; RStudio</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
        <div class="sidebar-tools-collapse tools-wide">
    <a href="https://www.nceas.ucsb.edu/learning-hub" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-door-fill"></i></a>
    <a href="https://twitter.com/ucsb_nceas" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="./nceas-learning-hub.github.io/lter_research_for_teachers" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About the course</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s01_git_setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git and GitHub Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s02_github_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git and GitHub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s03_r_programming_introduction.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Working in R &amp; RStudio</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s04_r_tidyverse_clean_wrangle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cleaning and Wrangling Data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./s05_r_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#welcome-to-r-programming" id="toc-welcome-to-r-programming" class="nav-link active" data-scroll-target="#welcome-to-r-programming"><span class="header-section-number">1</span> Welcome to R Programming</a></li>
  <li><a href="#rstudio-ide" id="toc-rstudio-ide" class="nav-link" data-scroll-target="#rstudio-ide"><span class="header-section-number">2</span> RStudio IDE</a></li>
  <li><a href="#coding-in-the-console" id="toc-coding-in-the-console" class="nav-link" data-scroll-target="#coding-in-the-console"><span class="header-section-number">3</span> Coding in the Console</a>
  <ul class="collapse">
  <li><a href="#objects-in-r" id="toc-objects-in-r" class="nav-link" data-scroll-target="#objects-in-r"><span class="header-section-number">3.1</span> Objects in R</a></li>
  <li><a href="#naming-conventions" id="toc-naming-conventions" class="nav-link" data-scroll-target="#naming-conventions"><span class="header-section-number">3.2</span> Naming Conventions</a></li>
  </ul></li>
  <li><a href="#running-code-in-an-r-script" id="toc-running-code-in-an-r-script" class="nav-link" data-scroll-target="#running-code-in-an-r-script"><span class="header-section-number">4</span> Running code in an R Script</a>
  <ul class="collapse">
  <li><a href="#how-to-run-code-in-an-r-script" id="toc-how-to-run-code-in-an-r-script" class="nav-link" data-scroll-target="#how-to-run-code-in-an-r-script"><span class="header-section-number">4.1</span> How to run code in an R Script</a></li>
  <li><a href="#r-calculations-with-objects" id="toc-r-calculations-with-objects" class="nav-link" data-scroll-target="#r-calculations-with-objects"><span class="header-section-number">4.2</span> R calculations with objects</a></li>
  </ul></li>
  <li><a href="#data-types-class-in-r" id="toc-data-types-class-in-r" class="nav-link" data-scroll-target="#data-types-class-in-r"><span class="header-section-number">5</span> Data types (class) in R</a></li>
  <li><a href="#data_structures" id="toc-data_structures" class="nav-link" data-scroll-target="#data_structures"><span class="header-section-number">6</span> Data structures in R</a></li>
  <li><a href="#r-functions" id="toc-r-functions" class="nav-link" data-scroll-target="#r-functions"><span class="header-section-number">7</span> R Functions</a></li>
  <li><a href="#getting-help-using-help-pages" id="toc-getting-help-using-help-pages" class="nav-link" data-scroll-target="#getting-help-using-help-pages"><span class="header-section-number">8</span> Getting help using help pages</a></li>
  <li><a href="#examples-using-built-in-r-functions-mean-and-read.csv" id="toc-examples-using-built-in-r-functions-mean-and-read.csv" class="nav-link" data-scroll-target="#examples-using-built-in-r-functions-mean-and-read.csv"><span class="header-section-number">9</span> Examples using built-in R functions <code>mean()</code> and <code>read.csv()</code></a>
  <ul class="collapse">
  <li><a href="#use-the-mean-function-to-run-a-more-complex-calculation" id="toc-use-the-mean-function-to-run-a-more-complex-calculation" class="nav-link" data-scroll-target="#use-the-mean-function-to-run-a-more-complex-calculation"><span class="header-section-number">9.1</span> Use the <code>mean()</code> function to run a more complex calculation</a></li>
  <li><a href="#use-the-read.csv-function-to-read-a-file-into-r" id="toc-use-the-read.csv-function-to-read-a-file-into-r" class="nav-link" data-scroll-target="#use-the-read.csv-function-to-read-a-file-into-r"><span class="header-section-number">9.2</span> Use the <code>read.csv()</code> function to read a file into R</a></li>
  </ul></li>
  <li><a href="#working-with-data-frames-in-r-using-the-subset-operator" id="toc-working-with-data-frames-in-r-using-the-subset-operator" class="nav-link" data-scroll-target="#working-with-data-frames-in-r-using-the-subset-operator"><span class="header-section-number">10</span> Working with data frames in R using the Subset Operator <code>$</code></a></li>
  <li><a href="#error-messages-are-your-friends" id="toc-error-messages-are-your-friends" class="nav-link" data-scroll-target="#error-messages-are-your-friends"><span class="header-section-number">11</span> Error messages are your friends</a></li>
  <li><a href="#r-packages" id="toc-r-packages" class="nav-link" data-scroll-target="#r-packages"><span class="header-section-number">12</span> R Packages</a></li>
  <li><a href="#r-resources" id="toc-r-resources" class="nav-link" data-scroll-target="#r-resources"><span class="header-section-number">13</span> R Resources</a></li>
  <li><a href="#clearing-the-environment" id="toc-clearing-the-environment" class="nav-link" data-scroll-target="#clearing-the-environment"><span class="header-section-number">14</span> Clearing the environment</a></li>
  <li><a href="#save-workspace-image-to-.rdata" id="toc-save-workspace-image-to-.rdata" class="nav-link" data-scroll-target="#save-workspace-image-to-.rdata"><span class="header-section-number">15</span> Save Workspace Image to .RData?</a></li>
  <li><a href="#logical-operators-and-expressions" id="toc-logical-operators-and-expressions" class="nav-link" data-scroll-target="#logical-operators-and-expressions"><span class="header-section-number">16</span> Logical operators and expressions</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">






<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning Objectives
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Get oriented with the RStudio interface</li>
<li>Run code and basic arithmetic in the Console</li>
<li>Practice writing code in an R Script</li>
<li>Be introduced to built-in R functions</li>
<li>Use the Help pages to look up function documentation</li>
</ul>
</div>
</div>
<!-- THESE SLIDES ARE NOT COMPLETE...  Recommend putting a ton of the words-words-words elements of this lesson into slide format - more compact, easy to page back and forth -->
<p><a href="slides/r_programming_introduction/example_slides.html">Full Screen</a></p>
<iframe class="slide-deck" src="slides/r_programming_introduction/slides.html" height="420" width="747" style="border: 1px solid #2e3846;"></iframe>
<div class="Acknowledgements">
<p>This lesson is a combination of excellent lessons by others. Huge thanks to <a href="https://jules32.github.io/">Julie Lowndes</a> for writing most of this content and letting us build on her material, which in turn was built on <a href="https://jennybryan.org/about/">Jenny Bryan’s</a> materials. We highly recommend reading through the original lessons and using them as reference (see in the resources section below).</p>
</div>
<section id="welcome-to-r-programming" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="welcome-to-r-programming"><span class="header-section-number">1</span> Welcome to R Programming</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/r_programming_introduction/allison-horst-code-kitchen.png" class="img-fluid figure-img"></p>
<figcaption>Artwork by Allison Horst</figcaption>
</figure>
</div>
<p>There is a vibrant community out there that is collectively developing increasingly easy to use and powerful open source programming tools. The changing landscape of programming is making learning how to code easier than it ever has been. Incorporating programming into analysis workflows not only makes science more efficient, but also more computationally reproducible. In this course, we will use the programming language R, and the accompanying integrated development environment (IDE) RStudio. R is a great language to learn for data-oriented programming because it is widely adopted, user-friendly, and (most importantly) open source!</p>
<p>So what is the difference between R and RStudio? Here is an analogy to start us off. <strong>If you were a chef, R is a knife</strong>. You have food to prepare, and the knife is one of the tools that you’ll use to accomplish your task.</p>
<p>And <strong>if R were a knife, RStudio is the kitchen</strong>. RStudio provides a place to do your work! RStudio makes your life as a researcher easier by bringing together other tools you need to do your work efficiently - like a file browser, data viewer, help pages, terminal, community, support, the list goes on. So it’s not just the infrastructure (the user interface or IDE), although it is a great way to learn and interact with your variables, files, and interact directly with git. It’s also data science philosophy, R packages, community, and more. Although you can prepare food without a kitchen and we could learn R without RStudio, that’s not what we’re going to do. We are going to take advantage of the great RStudio support, and learn R and RStudio together.</p>
<p>Something else to start us off is to mention that you are learning a new language here. It’s an ongoing process, it takes time, you’ll make mistakes, it can be frustrating, but it will be overwhelmingly awesome in the long run. We all speak at least one language; it’s a similar process, really. And no matter how fluent you are, you’ll always be learning, you’ll be trying things in new contexts, learning words that mean the same as others, etc, just like everybody else. And just like any form of communication, there will be miscommunication that can be frustrating, but hands down we are all better off because of it.</p>
<p>While language is a familiar concept, programming languages are in a different context from spoken languages and you will understand this context with time. For example: you have a concept that there is a first meal of the day, and there is a name for that: in English it’s “breakfast.” So if you’re learning Spanish, you could expect there is a word for this concept of a first meal. (And you’d be right: “desayuno”). We will get you to expect that programming languages also have words (called functions in R) for concepts as well. You’ll soon expect that there is a way to order values numerically. Or alphabetically. Or search for patterns in text. Or calculate the median. Or reorganize columns to rows. Or subset exactly what you want. We will get you to increase your expectations and learn to ask and find what you’re looking for.</p>
</section>
<section id="rstudio-ide" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="rstudio-ide"><span class="header-section-number">2</span> RStudio IDE</h2>
<p>Let’s take a tour of the RStudio interface.</p>
<p><img src="images/r_programming_introduction/RStudio_IDE.png" class="img-fluid"></p>
<p>Notice the default panes:</p>
<ul>
<li>Console (entire left)</li>
<li>Environment/History (tabbed in upper right)</li>
<li>Files/Plots/Packages/Help (tabbed in lower right)</li>
</ul>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can change the default location of the panes, among many other things, see <a href="https://support.rstudio.com/hc/en-us/articles/200549016-Customizing-RStudio">Customizing RStudio</a>.</p>
</div>
</div>
</section>
<section id="coding-in-the-console" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="coding-in-the-console"><span class="header-section-number">3</span> Coding in the Console</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
But first, an important first question: <strong>where are we?</strong>
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you’ve just opened RStudio for the first time, you’ll be in your Home directory. This is noted by the <code>~/</code> at the top of the console. You can see too that the Files pane in the lower right shows what is in the Home directory where you are. You can navigate around within that Files pane and explore, but note that you won’t change where you are: even as you click through you’ll still be Home: <code>~/</code>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/r_programming_introduction/RStudio_IDE_homedir.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<p>We can run code in a couple of places in RStudio, including the Console, let’s start there.</p>
<p>At it’s most basic, we can use R as a calculator, let’s try a couple of examples in the console.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run in the console</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># really basic examples</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">*</span><span class="dv">4</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">+</span><span class="dv">4</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dv">3-4</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">/</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>While there are many cases where it makes sense to type code directly in to the the console, it is not a great place to write most of your code since you can’t save what you ran. <strong>A better way is to create an R Script, and write your code there.</strong> Then when you run your code from the script, you can save it when you are done. We’re going to continue writing code in the Console for now, but we’ll code in an R Script later in this lesson</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you’re in the console you’ll see a greater than sign (<code>&gt;</code>) at the start of a line. This is called the “prompt” and when we see it, it means R is ready to accept commands. If you see a plus sign (<code>+</code>) in the Console, it means R is waiting on additional information before running. You can always press escape (<code>esc</code>) to return to the prompt. Try practicing this by running <code>3*</code> (or any incomplete expression) in the console.</p>
</div>
</div>
<section id="objects-in-r" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="objects-in-r"><span class="header-section-number">3.1</span> Objects in R</h3>
<p>Let’s say the value of 12 that we got from running <code>3*4</code> is a really important value we need to keep. To keep information in R, we need to create an <strong>object</strong>. The way information is stored in R is through objects.</p>
<p>We can assign a value of a mathematical operation (and more!) to an object in R using the assignment operator, <code>&lt;-</code> (greater than sign and minus sign). All objects in R are created using the assignment operator, following this form: <code>object_name &lt;- value</code>.</p>
<div class="callout callout-style-default callout-exercise no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="callout-exercise">
<p><strong>Create an object!</strong></p>
<p>Assign <code>3*4</code> to an object called <code>important_value</code> and then inspect the object you just created.</p>
<div class="callout callout-style-default callout-answer no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-answer">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># think of this code as someone saying "important_value gets 12".</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>important_value <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Notice how after creating the object, R doesn’t print anything. However, we know our code worked because we see the object, and the value we wanted to store is now visible in our <strong>Global Environment</strong>. We can force R to print the value of the object by calling the object name (aka typing it out) or by using parentheses.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you begin typing an object name RStudio will automatically show suggested completions for you that you can select by hitting <code>tab</code>, then press <code>return</code>.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># printing the object by calling the object name</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>important_value</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># printing the object by wrapping the assignment syntax in parentheses</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>(important_value <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 12</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you’re in the Console use the up and down arrow keys to call your command history, with the most recent commands being shown first.</p>
</div>
</div>
</section>
<section id="naming-conventions" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="naming-conventions"><span class="header-section-number">3.2</span> Naming Conventions</h3>
<p>Before we run more calculations, let’s talk about naming objects. For the object, <code>important_value</code> we used an underscore to separate the object name. This naming convention is called <strong>snake case</strong>. There are other naming conventions including, but not limited to:</p>
<ul>
<li><p>we_used_snake_case</p></li>
<li><p>someUseCamelCase</p></li>
<li><p>SomeUseUpperCamelCaseAlsoCalledPascalCase</p></li>
</ul>
<p>Choosing a <a href="https://en.wikipedia.org/wiki/Naming_convention_(programming)#:~:text=In%20computer%20programming%2C%20a%20naming,in%20source%20code%20and%20documentation">naming convention</a> is a personal preference, but once you choose one - be consistent! A consistent naming convention will increase the readability of your code for others and your future self.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Object names cannot start with a digit and cannot contain certain characters such as a comma or a space.</p>
</div>
</div>
</section>
</section>
<section id="running-code-in-an-r-script" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="running-code-in-an-r-script"><span class="header-section-number">4</span> Running code in an R Script</h2>
<p>So far we’ve been running code in the Console, let’s try running code in an R Script. An R Script is a simple text file. RStudio uses an R Script by copying R commands from text in the file and pastes them into the Console as if you were manually entering commands yourself.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Creating an R Script
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>From the “File” menu, select “New File”</li>
<li>Click “R Script” from the list of options</li>
</ol>
<p>RStudio should open your R Script automatically after creating it. Notice a new pane appears above the Console. This is called the <strong>Source pane</strong> and is where we write and edit R code and documents. This pane is only present if there are files open in the editor.</p>
<ol start="3" type="1">
<li>Save the R Script in your <code>script</code> folder, name the file <code>intro-to-programming.R</code></li>
</ol>
</div>
</div>
<section id="how-to-run-code-in-an-r-script" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="how-to-run-code-in-an-r-script"><span class="header-section-number">4.1</span> How to run code in an R Script</h3>
<p>Running code in an R Script is different than running code in the Console (aka you can’t just press <code>return</code> / <code>enter</code>). To interpret and run the code you’ve written, R needs you to send the code from the script (or editor) to the Console. Some common ways to run code in an R Script include:</p>
<ol type="1">
<li><p>Place your cursor on the line of code you want to run and use the shortcut <code>command</code> + <code>return</code> or click the <code>Run</code> button in the top right of the Source pane.</p></li>
<li><p>Highlight the code you want to run, then use the shortcut <code>command</code> + <code>return</code> or click the <code>Run</code> button.</p></li>
</ol>
</section>
<section id="r-calculations-with-objects" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="r-calculations-with-objects"><span class="header-section-number">4.2</span> R calculations with objects</h3>
<p>So we know that objects are how R stores information, and we know we create objects using the assignment operator <code>&lt;-</code>. Let’s build upon that and learn how to use an object in calculations.</p>
<p>Imagine we have the weight of a dog in kilograms. Create the object <code>weight_kg</code> and assign it a value of 25.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># weight of a dog in kilograms</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>weight_kg <span class="ot">&lt;-</span> <span class="dv">25</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now that R has <code>weight_kg</code> saved in the Global Environment, we can run calculations with it.</p>
<div class="callout callout-style-default callout-exercise no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="callout-exercise">
<p><strong>Using <code>weight_kg</code> run a simple calculation</strong></p>
<p>Let’s convert the weight into pounds. Weight in pounds is 2.2 times the weight in kg.</p>
<div class="callout callout-style-default callout-answer no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-answer">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># converting weight from kilograms to pounds</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fl">2.2</span> <span class="sc">*</span> weight_kg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>You can also store more than one value in a single object. Storing a series of weights in a single object is a convenient way to perform the same operation on multiple values at the same time. One way to create such an object is with the function <code>c()</code>, which stands for combine or concatenate.</p>
<p>First let’s create a <strong>vector</strong> of weights in kilograms using <code>c()</code> (we’ll talk more about vectors in the next section, <a href="#data_structures">Data structures in R</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a vector of weights in kilograms</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>weight_kg <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="dv">33</span>, <span class="dv">12</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># call the object to inspect</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>weight_kg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 25 33 12</code></pre>
</div>
</div>
<p>Now convert the vector <code>weight_kg</code> to pounds.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># covert `weight_kg` to pounds </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>weight_kg <span class="sc">*</span> <span class="fl">2.2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55.0 72.6 26.4</code></pre>
</div>
</div>
<p>Wouldn’t it be helpful if we could save these new weight values we just converted? This might be important information we may need for a future calculation. How would you save these new weights in pounds?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a new object </span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="ot">&lt;-</span> weight_kg <span class="sc">*</span> <span class="fl">2.2</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># call `weight_lb` to check if the information you expect is there</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>weight_lb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 55.0 72.6 26.4</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You will make many objects and the assignment operator <code>&lt;-</code> can be tedious to type over and over. Instead, use <strong>RStudio’s keyboard shortcut: <code>option</code> + <code>-</code> (the minus sign)</strong>.</p>
<p>Notice that RStudio automatically surrounds <code>&lt;-</code> with spaces, which demonstrates a useful code formatting practice. Code is miserable to read on a good day. Give your eyes a break and use spaces.</p>
<p>RStudio offers many handy <a href="https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts">keyboard shortcuts</a>. Also, <code>option</code>+<code>Shift</code>+<code>K</code> brings up a keyboard shortcut reference card.</p>
<p>For more RStudio tips, check out Master of Environmental Data Science (MEDS) workshop: <a href="https://ucsb-meds.github.io/IDE-tips-and-tricks/#/title-slide">IDE Tips &amp; Tricks</a>.</p>
</div>
</div>
</section>
</section>
<section id="data-types-class-in-r" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="data-types-class-in-r"><span class="header-section-number">5</span> Data types (class) in R</h2>
<table class="caption-top table">
<caption>Common data types in R</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Data Type</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>boolean</code> (also called <code>logical</code>)</td>
<td>Data take on the value of either <code>TRUE</code>, <code>FALSE</code>, or <code>NA</code>. <code>NA</code> is used to represent missing values.</td>
</tr>
<tr class="even">
<td><code>character</code></td>
<td>Data are string values. You can think of character strings as something like a word (or multiple words). A special type of character string is a <code>factor</code>, which is a string but with additional attributes (like levels or an order).</td>
</tr>
<tr class="odd">
<td><code>integer</code></td>
<td>Data are whole numbers (those numbers without a decimal point). To explicitly create an integer data type, use the suffix <code>L</code> (e.g.&nbsp;<code>2L</code>).</td>
</tr>
<tr class="even">
<td><code>numeric</code> (also called <code>double</code>)</td>
<td>Data are numbers that contain a decimal.</td>
</tr>
</tbody>
</table>
<table class="caption-top table">
<caption>Less common data types (we won’t be going into these data types this course)</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Data Type</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>complex</code></td>
<td>Data are complex numbers with real and imaginary parts.</td>
</tr>
<tr class="even">
<td><code>raw</code></td>
<td>Data are raw bytes.</td>
</tr>
</tbody>
</table>
<p>We’ve been using primarily <code>integer</code> or <code>numeric</code> data types so far. Let’s create an object that has a string value or a <code>character</code> data type.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>science_rocks <span class="ot">&lt;-</span> <span class="st">"yes it does!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>“yes it does!” is a string, and R knows it’s a word and not a number because it has quotes <code>" "</code>. You can work with strings in your data in R easily thanks to the <a href="http://stringr.tidyverse.org/"><code>stringr</code></a> and <a href="https://github.com/juliasilge/tidytext"><code>tidytext</code></a> packages.</p>
<p><strong>This lead us to an important concept in programming:</strong> As we now know, there are different “classes” or types of objects in R. The operations you can do with an object will depend on what type of object it is because each object has their own specialized format, designed for a specific purpose. This makes sense! Just like you wouldn’t do certain things with your car (like use it to eat soup), you won’t do certain operations with character objects (strings).</p>
<p>Also, everything in R is an object. An object is a variable, function, data structure, or method that you have written to your environment.</p>
<p>Try running the following line in your script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="st">"Hello world!"</span> <span class="sc">*</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>What happened? What do you see in the Console? Why?</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can see what data type or class an object is using the <code>class()</code> function, or you can use a logical test such as: <code>is.numeric()</code>, <code>is.character()</code>, <code>is.logical()</code>, and so on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(science_rocks) <span class="co"># returns character</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(science_rocks) <span class="co"># returns FALSE</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(science_rocks) <span class="co"># returns TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="data_structures" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="data_structures"><span class="header-section-number">6</span> Data structures in R</h2>
<p>Okay, now let’s talk about vectors.</p>
<p><strong>A vector is the most common and most basic data structure in R</strong>. Vectors can be thought of as a way R stores a collection of values or elements. Think back to our <code>weight_lb</code> vector. That was a vector of three elements each with a data type or class of <code>numeric</code>.</p>
<p>What we’re describing is a specific type of vector called <strong>atomic vectors</strong>. To put it simply, atomic vectors <em>only</em> contain elements of the <em>same</em> data type. Atomic vectors are very common.</p>
<p>Vectors are foundational for other data structures in R, including data frames, and while we won’t go into detail about other data structures there are great resources online that do. We recommend the chapter <a href="https://adv-r.hadley.nz/vectors-chap.html">Vectors</a> from the online book <a href="https://adv-r.hadley.nz/index.html">Advanced R</a> by Hadley Wickham.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># atomic vector examples #</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># character vector</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>chr_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hello"</span>, <span class="st">"good bye"</span>, <span class="st">"see you later"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># numeric vector</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="fl">1.3</span>, <span class="dv">10</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># logical vector</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>boolean_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="r-functions" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="r-functions"><span class="header-section-number">7</span> R Functions</h2>
<p>So far we’ve learned some of the basic syntax and concepts of R programming, and how to navigate RStudio, but we haven’t done any complicated or interesting programming processes yet. This is where functions come in!</p>
<p><strong>A function is a way to group a set of commands together to undertake a task in a reusable way.</strong> When a function is executed, it produces a return value. We often say that we are “calling” a function when it is executed. Functions can be user defined and saved to an object using the assignment operator, so you can write whatever functions you need, but R also has a mind-blowing collection of built-in functions ready to use. To start, we will be using some built in R functions.</p>
<p><strong>All functions are called using the same syntax:</strong> function name with parentheses around what the function needs in order to do what it was built to do. These “needs” are pieces of information called arguments, and are required to return an expected value.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Syntax of a function will look something like:
</div>
</div>
<div class="callout-body-container callout-body">
<pre><code>result_value &lt;- function_name(argument1 = value1, argument2 = value2, ...)</code></pre>
</div>
</div>
<p>Before we use a function, let’s talk about Help pages.</p>
</section>
<section id="getting-help-using-help-pages" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="getting-help-using-help-pages"><span class="header-section-number">8</span> Getting help using help pages</h2>
<p>What if you know the name of the function that you want to use, but don’t know exactly how to use it? Thankfully RStudio provides an easy way to access the help documentation for functions.</p>
<p>The next function we’re about to use is the <code>mean()</code> function.</p>
<p>To access the help page for <code>mean()</code>, enter the following into your console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>?mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The Help pane will show up in the lower right hand corner of your RStudio.</p>
<p>The Help page is broken down into sections:</p>
<ul>
<li>Description: An extended description of what the function does.</li>
<li>Usage: The arguments of the function(s) and their default values.</li>
<li>Arguments: An explanation of the data each argument is expecting.</li>
<li>Details: Any important details to be aware of.</li>
<li>Value: The data the function returns.</li>
<li>See Also: Any related functions you might find useful.</li>
<li>Examples: Some examples for how to use the function.</li>
</ul>
<p>And there’s also help for when you only sort of remember the function name: double-question mark:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>??install </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Not all functions have (or require) arguments
</div>
</div>
<div class="callout-body-container callout-body">
<p>Check out the documentation or Help page for <code>date()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>?<span class="fu">date</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="examples-using-built-in-r-functions-mean-and-read.csv" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="examples-using-built-in-r-functions-mean-and-read.csv"><span class="header-section-number">9</span> Examples using built-in R functions <code>mean()</code> and <code>read.csv()</code></h2>
<section id="use-the-mean-function-to-run-a-more-complex-calculation" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="use-the-mean-function-to-run-a-more-complex-calculation"><span class="header-section-number">9.1</span> Use the <code>mean()</code> function to run a more complex calculation</h3>
<p>Let’s override our weight object with some new values, and this time we’ll assign it three dog weights in pounds:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">55</span>, <span class="dv">25</span>, <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-exercise no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 3
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="callout-exercise">
<p><strong>Use the <code>mean()</code> function to calculate the mean weight.</strong></p>
<p>From the its Help page, we learned this function will take the mean of a set of numbers. Very convenient!</p>
<p>We also learned that <code>mean()</code> only has one argument we need to supply a value to (<code>x</code>). The rest of the arguments have default values.</p>
<div class="callout callout-style-default callout-answer no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-answer">
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="at">x =</span> weight_lb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 30.66667</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-exercise no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 4
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="callout-exercise">
<p><strong>Save the mean to an object called <code>mean_weight_lb</code></strong></p>
<div class="callout callout-style-default callout-hint no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-hint">
<p>What operator do we use to save values to an object?</p>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-answer no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-answer">
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># saving the mean using the assignment operator `&lt;-`</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>mean_weight_lb <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="at">x =</span> weight_lb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-exercise no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 5
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<div class="callout-exercise">
<p><strong>Update <code>weight_lb</code></strong></p>
<p>Let’s say each of the dogs gained 5 pounds and we need to update our vector, so let’s change our object’s value by assigning it new values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">60</span>, <span class="dv">30</span>, <span class="dv">17</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Call <code>mean_weight_lb</code> in the console or take a look at your Global Environment. Is that the value you expected? Why or why not?</p>
<div class="callout callout-style-default callout-answer no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="callout-answer">
<p>Perhaps you expected <code>mean_weight_lb</code> to change when you changed <code>weight_lb</code>? It did not! This demonstrates an important R programming concept: <strong>Assigning a value to one object does not change the values of other objects in R.</strong></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Now that we understand why the object’s value hasn’t changed - how do we update the value of <code>mean_weight_lb</code>? How is an R Script useful for this?</p>
<p>This lead us to another important programming concept, specifically for R Scripts: <strong>An R Script runs top to bottom.</strong></p>
<p>This order of operations is important because if you are running code line by line, the values in object may be unexpected. When you are done writing your code in an R Script, it’s good practice to clear your Global Environment and use the <code>Run</code> button and select “Run all” to test that your R Script successfully runs top to bottom.</p>
</section>
<section id="use-the-read.csv-function-to-read-a-file-into-r" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="use-the-read.csv-function-to-read-a-file-into-r"><span class="header-section-number">9.2</span> Use the <code>read.csv()</code> function to read a file into R</h3>
<p>So far we have learned how to assign values to objects in R, and what a function is, but we haven’t quite put it all together yet with real data yet. To do this, we will introduce the function <code>read.csv()</code>, which will be in the first lines of many of your future scripts. It does exactly what it says, it reads in a csv file to R.</p>
<p>Since this is our first time using this function, first access the help page for <code>read.csv()</code>. This has a lot of information in it, as this function has a lot of arguments, and the first one is especially important - we have to tell it what file to look for. Let’s get a file!</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Download a file from the Arctic Data Center
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>Navigate to this dataset by Craig Tweedie that is published on the Arctic Data Center. <a href="http://doi.org/10.18739/A25T3FZ8X">Craig Tweedie. 2009. North Pole Environmental Observatory Bottle Chemistry. Arctic Data Center. doi:10.18739/A25T3FZ8X.</a></p></li>
<li><p>Download the first csv file called <code>BGchem2008data.csv</code> by clicking the “download” button next to the file.</p></li>
<li><p>Click the “Upload” button in your RStudio server file browser.</p></li>
<li><p>In the dialog box, make sure the destination directory is the <code>data</code> directory in your R project, click “Choose File,” and locate the <code>BGchem2008data.csv</code> file. Press “OK” to upload the file.</p></li>
<li><p>Check your file was successfully uploaded by navigating into your <code>data</code> folder in the <strong>Files</strong> pane.</p></li>
</ol>
</div>
</div>
<p>Now we have to tell <code>read.csv()</code> how to find the file. We do this using the <code>file</code> argument which you can see in the usage section in the help page. In R, you can either use absolute paths (which will start with your home directory <code>~/</code>) or paths <strong>relative to your current working directory.</strong> RStudio has some great auto-complete capabilities when using relative paths, so we will go that route.</p>
<p>Assuming you have moved your file to a folder within <code>training_{USERNAME}</code> called <code>data</code>, and your working directory is your project directory (<code>training_{USERNAME}</code>) your <code>read.csv()</code> call will look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reading in data using relative paths</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>bg_chem_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"data/BGchem2008data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You should now have an object of the class <code>data.frame</code> in your environment called <code>bg_chem_dat</code>. Check your environment pane to ensure this is true. Or you can check the class using the function <code>class()</code> in the console.</p>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Optional Arguments
</div>
</div>
<div class="callout-body-container callout-body">
<p>Notice that in the Help page there are many arguments that we didn’t use in the call above. Some of the arguments in function calls are optional, and some are required.</p>
<p>Optional arguments will be shown in the usage section with a <code>name = value</code> pair, with the default value shown. If you do not specify a <code>name = value</code> pair for that argument in your function call, the function will assume the default value (example: <code>header = TRUE</code> for <code>read.csv()</code>).</p>
<p>Required arguments will only show the name of the argument, without a value. Note that the only required argument for <code>read.csv()</code> is <code>file</code>.</p>
</div>
</div>
<p>You can always specify arguments in <code>name = value</code> form. But if you do not, R attempts to resolve by position. So above, it is assumed that we want <code>file = "data/BGchem2008data.csv"</code>, since file is the first argument.</p>
<p>If we explicitly called the <code>file</code> argument our code would like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>bg_chem_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"data/BGchem2008data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we wanted to add another argument, say <code>stringsAsFactors</code>, we need to specify it explicitly using the <code>name = value</code> pair, since the second argument is <code>header</code>.</p>
<p>Many R users (including myself) will set the <code>stringsAsFactors</code> argument using the following call:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># relative file path</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>bg_chem_dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/BGchem2008data.csv"</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For functions that are used often, you’ll see many programmers will write code that does not explicitly call the first or second argument of a function.</p>
</div>
</div>
</section>
</section>
<section id="working-with-data-frames-in-r-using-the-subset-operator" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="working-with-data-frames-in-r-using-the-subset-operator"><span class="header-section-number">10</span> Working with data frames in R using the Subset Operator <code>$</code></h2>
<p>A <code>data.frame</code> is a list data structure in R that can represent tables and spreadsheets – we can think of it as a table. It is a collection of rows and columns of data, where each column has a name and represents a variable, and each row represents an observation containing a measurement of that variable. When we ran <code>read.csv()</code>, the object <code>bg_chem_dat</code> that we created was a <code>data.frame</code>. The columns in a <code>data.frame</code> might represent measured numeric response values (e.g., <code>weight_kg</code>), classifier variables (e.g., <code>site_name</code>), or categorical response variables (e.g., <code>course_satisfaction</code>). There are many ways R and RStudio help you explore data frames. Here are a few, give them each a try:</p>
<ul>
<li>Click on the word <code>bg_chem_dat</code> in the environment pane</li>
<li>Click on the arrow next to <code>bg_chem_dat</code> in the environment pane</li>
<li>Execute <code>head(bg_chem_dat)</code> in the Console</li>
<li>Execute <code>View(bg_chem_dat)</code> in the Console</li>
</ul>
<p>Usually we will want to run functions on individual columns in a <code>data.frame</code>. To call a specific column, we use the list subset operator <code>$</code>.</p>
<p>Say you want to look at the first few rows of the <code>Date</code> column only:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bg_chem_dat<span class="sc">$</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also use the subset operator <code>$</code> calculations. For example, let’s calculated the mean temperature of all the CTD samples.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(bg_chem_dat<span class="sc">$</span>CTD_Temperature)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can also save this calculation to an object that was created using the subset operator <code>$</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>mean_temp <span class="ot">&lt;-</span> <span class="fu">mean</span>(bg_chem_dat<span class="sc">$</span>CTD_Temperature)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Other ways to load tablular data
</div>
</div>
<div class="callout-body-container callout-body">
<p>While the base R package provides <code>read.csv</code> as a common way to load tabular data from text files, there are many other ways that can be convenient and will also produce a <code>data.frame</code> as output. Here are a few:</p>
<ol type="1">
<li>Use the <code>readr::read_csv()</code> function from the Tidyverse to load the data file. The <code>readr</code> package has a bunch of convenient helpers and handles CSV files in typically expected ways, like properly typing dates and time columns. <code>bg_chem_dat &lt;- readr::read_csv("data/BGchem2008data.csv")</code></li>
<li>Load tabular data from Excel spreadsheets using the <code>readxl::read_excel()</code> function.</li>
<li>Load tabular data from Google Sheets using the <code>googlesheets4::read_sheet()</code> function.</li>
</ol>
</div>
</div>
</section>
<section id="error-messages-are-your-friends" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="error-messages-are-your-friends"><span class="header-section-number">11</span> Error messages are your friends</h2>
<p>There is an implicit contract with the computer/scripting language: Computer will do tedious computation for you. In return, you will be completely precise in your instructions. Typos matter. Case matters. Pay attention to how you type.</p>
<p>Remember that this is a language, not dissimilar to English! There are times you aren’t understood – it’s going to happen. There are different ways this can happen. Sometimes you’ll get an error. This is like someone saying ‘What?’ or ‘Pardon’? Error messages can also be more useful, like when they say ‘I didn’t understand this specific part of what you said, I was expecting something else’. That is a great type of error message. Error messages are your friend. Google them (copy-and-paste!) to figure out what they mean. Note that knowing how to Google is a skill and takes practice - use our <a href="https://bren.ucsb.edu/masters-programs/master-environmental-data-science">Masters of Environmental Data Science</a> (MEDS) program workshop <a href="https://ucsb-meds.github.io/teach-me-how-to-google/#1">Teach Me How to Google</a> as a guide.</p>
<div class="quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 37.5%;justify-content: center;">
<p><img src="images/r_programming_introduction/practicalDev_googleErrorMessage.jpg" class="img-fluid"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 62.5%;justify-content: center;">
<p><a href="https://github.com/UCSB-MEDS/teach-me-how-to-google"><img src="images/r_programming_introduction/meds-teach-me-how-to-google-cover.png" class="img-fluid"></a></p>
</div>
</div>
</div>
<p>And also know that there are errors that can creep in more subtly, without an error message right away, when you are giving information that is understood, but not in the way you meant. Like if I’m telling a story about tables and you’re picturing where you eat breakfast and I’m talking about data. This can leave me thinking I’ve gotten something across that the listener (or R) interpreted very differently. And as I continue telling my story you get more and more confused… So write clean code and check your work as you go to minimize these circumstances!</p>
</section>
<section id="r-packages" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="r-packages"><span class="header-section-number">12</span> R Packages</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/r_programming_introduction/allison-horst-r-doorway.png" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption>Artwork by Allison Horst</figcaption>
</figure>
</div>
<p>R packages are the building blocks of computational reproducibility in R. Each package contains a set of related functions that enable you to more easily do a task or set of tasks in R. There are thousands of community-maintained packages out there for just about every imaginable use of R - including many that you have probably never thought of!</p>
<p>To install a package, we use the syntax <code>install.packages("packge_name")</code>. A package only needs to be installed once, so this code can be run directly in the console if needed. Generally, you don’t want to save your install package calls in a script, because when you run the script it will re-install the package, which you only need to do once, or if you need to update the package.</p>
</section>
<section id="r-resources" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="r-resources"><span class="header-section-number">13</span> R Resources</h2>
<table class="caption-top table">
<caption>Awesome R Resources to Check out</caption>
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<tbody>
<tr class="odd">
<td>Learning R Resources</td>
<td><ul>
<li><a href="http://www.datacarpentry.org/R-ecology-lesson/01-intro-to-r.html">Introduction to R</a> lesson in <a href="http://www.datacarpentry.org/R-ecology-lesson/">Data Carpentry’s R for data analysis</a> course</li>
<li>Jenny Bryan’s Stat 545 <a href="https://stat545.com/r-basics.html">course materials</a></li>
<li><a href="http://ohi-science.org/data-science-training/">Julie Lowndes’ Data Science Training for the Ocean Health Index</a></li>
<li>Learn R in the console with <a href="https://swirlstats.com/">swirl</a></li>
<li><a href="http://ohi-science.org/data-science-training/programming.html">Programming in R</a></li>
<li><a href="http://ohi-science.org/data-science-training/rstudio.html">R, RStudio, RMarkdown</a></li>
</ul></td>
</tr>
<tr class="even">
<td>Community Resources</td>
<td><ul>
<li><p><a href="https://eco-data-science.github.io/">NCEAS’ EcoDataScience</a></p></li>
<li><p><a href="https://rladies.org/">R-Ladies</a></p></li>
<li><p><a href="https://ropensci.org/community/">rOpenSci</a></p></li>
<li><p><a href="https://mircommunity.com/">Minorities in R (MiR)</a></p></li>
<li><p>Twitter - there is <em>a lot</em> here but some hashtags to start with are:</p>
<ul>
<li><p>#rstats</p></li>
<li><p>#TidyTuesday</p></li>
<li><p>#dataviz</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Cheatsheets</td>
<td><ul>
<li><a href="https://iqss.github.io/dss-workshops/R/Rintro/base-r-cheat-sheet.pdf">Base R Cheatsheet</a></li>
<li><a href="https://www.caam.rice.edu/~heinken/latex/symbols.pdf">LaTeX Equation Formatting</a></li>
<li><a href="http://mathesaurus.sourceforge.net/octave-r.html">MATLAB/R Translation Cheatsheet</a></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="clearing-the-environment" class="level2" data-number="14">
<h2 data-number="14" class="anchored" data-anchor-id="clearing-the-environment"><span class="header-section-number">14</span> Clearing the environment</h2>
<p>Take a look at the objects in your Environment (Workspace) in the upper right pane. The Workspace is where user-defined objects accumulate. There are a few useful commands for getting information about your Environment, which make it easier for you to reference your objects when your Environment gets filled with many, many objects.</p>
<p><img src="images/r_programming_introduction/RStudio_IDE_env.png" class="img-fluid"></p>
<p>You can get a listing of these objects with a couple of different R functions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">objects</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "boolean_vector"  "chr_vector"      "important_value" "mean_weight_lb" 
[5] "numeric_vector"  "science_rocks"   "weight_kg"       "weight_lb"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "boolean_vector"  "chr_vector"      "important_value" "mean_weight_lb" 
[5] "numeric_vector"  "science_rocks"   "weight_kg"       "weight_lb"      </code></pre>
</div>
</div>
<p>If you want to remove the object named <code>weight_kg</code>, you can do this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(weight_kg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To remove everything (or click the Broom icon in the Environment pane):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Quick Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s good practice to clear your environment. Over time your Global Environmental will fill up with many objects, and this can result in unexpected errors or objects being overridden with unexpected values. Also it’s difficult to read / reference your environment when it’s cluttered!</p>
</div>
</div>
</section>
<section id="save-workspace-image-to-.rdata" class="level2" data-number="15">
<h2 data-number="15" class="anchored" data-anchor-id="save-workspace-image-to-.rdata"><span class="header-section-number">15</span> Save Workspace Image to .RData?</h2>
<p><img src="images/r_programming_introduction/save-workspace.png" class="img-fluid"></p>
<p><strong>DON’T SAVE</strong></p>
<p>When ever you close or switch projects you will be promped with the question: Do you want to save your workspace image to /“currente-project”/ .RData?</p>
<p>RStudio by default wants to save the state of your environment (the objects you have in your environment pane) into the RData file so that when you open the project again you have the same environment. However, as we discussed above, it is good practice to constantly clear and clean your environment. It is generally <strong>NOT</strong> a good practice to rely on the state of your environment for your script to run and work. If you are coding reproducibly, your code should be able to reproduce the state of your environment (all the necessary objects) every time you run it. It is much better to rely on your code recreating the environment than the saving the workspace status.</p>
<p>You can change the Global Options configuration for the default to be NEVER SAVE MY WORKSPACE. Go to Tools &gt; Global Options. Under the General menu, select Never next to “Save workspace to .RData on exit”. This way you won’t get asked every time you close a project, instead RStudio knows not to save.</p>
<p><img src="images/r_programming_introduction/save-workspace-global-options.png" class="img-fluid"></p>
</section>
<section id="logical-operators-and-expressions" class="level2" data-number="16">
<h2 data-number="16" class="anchored" data-anchor-id="logical-operators-and-expressions"><span class="header-section-number">16</span> Logical operators and expressions</h2>
<p>We can ask questions about an object using <strong>logical operators and expressions</strong>. Let’s ask some “questions” about the <code>weight_lb</code> object we made.</p>
<ul>
<li><code>==</code> means ‘is equal to’</li>
<li><code>!=</code> means ‘is not equal to’</li>
<li><code>&lt;</code> means ‘is less than’</li>
<li><code>&gt;</code> means ‘is greater than’</li>
<li><code>&lt;=</code> means ‘is less than or equal to’</li>
<li><code>&gt;=</code> means ‘is greater than or equal to’</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># examples using logical operators and expressions</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="sc">==</span> <span class="dv">2</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="sc">&gt;=</span> <span class="dv">30</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="sc">!=</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/nceas-learning-hub\.github\.io\/lter_research_for_teachers\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright © 2025, NCEAS</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>